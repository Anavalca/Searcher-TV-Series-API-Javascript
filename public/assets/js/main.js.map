{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nconst inputSearch = document.querySelector('#search_input');\nconst button = document.querySelector('#search_button');\nlet ulMovies = document.querySelector('#series_list');\nlet ulFav = document.querySelector('#favourites_list');\n\nlet series = [];\nlet favourites = [];\n\n//LLAMAR A LA API PARA REALIZAR BÚSQUEDA\nfunction loadSeries(){\n  fetch(`http://api.tvmaze.com/search/shows?q=${inputSearch.value}`)\n    .then(response => response.json())\n    .then(data => {\n      series = data;\n      showSeriesSearch(series);\n    });\n}\n\n//PINTAR LOS RESULTADOS DE LA BUSQUEDA\nfunction showSeriesSearch(arr){\n  for(let item of arr){\n    if (item.show.image !== null){\n      ulMovies.innerHTML += `<li class=\"listSeries\" id=${item.show.id}><img src='${item.show.image.medium}'><p class='main-title'>${item.show.name}</p></li>`;\n    } else {\n      ulMovies.innerHTML += `<li class=\"listSeries\" id=${item.show.id}><img src='https://via.placeholder.com/210x295/ffffff/666666/?text=TV'><p class='main-title'>${item.show.name}</p></li>`;\n    }\n    addClickListeners();\n  }\n}\n\n//PINTAR AÑADIR EVENTO A LOS LI (CADA SERIE MOSTRADA)\nfunction addClickListeners(){\n  const liList = document.querySelectorAll('#series_list li');\n  for(let li of liList){\n    li.addEventListener('click',saveFavourites);\n  }\n}\n\n//GUARDAR FAVORITOS EN EL ARRAY DE FAVORITOS\nfunction saveFavourites(event){\n  const index = event.currentTarget.id;\n  if (favourites.indexOf(index) === -1) {\n    favourites.push(index);\n    // setLocalStorage(favourites);\n    renderFavourite(event.currentTarget);\n  } else {\n    alert('Ya has añadido esta película a favoritos'); //buscar opción más elegante//\n  }\n}\n\n//PINTAR FAVORITOS EN EL ASIDE\nfunction renderFavourite(favouriteElement) {\n  let favCopy = favouriteElement.cloneNode(true);\n  let buttomItem = document.createElement('button');\n  buttomItem.type = 'button';\n  buttomItem.appendChild(document.createTextNode('Remove'));\n  favCopy.appendChild(buttomItem);\n\n  ulFav.appendChild(favCopy);\n}\n\nbutton.addEventListener('click', loadSeries);\n"]}